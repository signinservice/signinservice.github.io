import"./chunk-ADFA6PKI.js";import"./chunk-CSP5O7BZ.js";import{e as X}from"./chunk-M3XGUZLI.js";import"./chunk-UBCSOUAF.js";import"./chunk-GQZ4J7UJ.js";import{$a as k,Ac as K,E as P,Fc as U,G as f,Ga as h,Gc as W,Ha as D,Ia as F,Z as s,ba as _,cc as A,da as c,ec as z,fa as C,fc as Q,ga as M,ha as y,ia as x,ja as a,ka as o,kc as q,la as m,mc as B,nb as O,nc as H,oa as I,oc as V,pa as u,pc as $,s as E,tc as j,ua as L,uc as N,v,va as w,wa as R,wc as G,xc as J,ya as d,za as S}from"./chunk-E5M5ZXR5.js";import"./chunk-QA4BP4KE.js";import"./chunk-DFV6G3P3.js";import"./chunk-LAKQI2GN.js";import"./chunk-36DK65CZ.js";import"./chunk-7M2JNTUM.js";import"./chunk-FIB3M2O7.js";import"./chunk-4U6PRYVA.js";import"./chunk-Z4V4M3ZT.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-IMRZMLQ3.js";import"./chunk-LF5XB4YN.js";import{i as T}from"./chunk-E2I6K3L7.js";var Z=(e,t)=>t.name,ee=()=>["Ok"],te=e=>["/search",e];function ne(e,t){e&1&&(a(0,"ion-item",6)(1,"ion-avatar",7),m(2,"ion-skeleton-text"),o(),m(3,"ion-skeleton-text",8),o())}function ie(e,t){if(e&1&&(a(0,"ion-list",2),y(1,ne,4,0,"ion-item",6,M),o()),e&2){let l=u();s(),x(l.dummyArray)}}function oe(e,t){if(e&1&&m(0,"ion-alert",9),e&2){let l=u();c("message",l.error)("buttons",D(2,ee))}}function re(e,t){if(e&1&&(a(0,"ion-item",3)(1,"ion-label",10)(2,"strong",11),d(3),o(),a(4,"div",12)(5,"ion-badge",13),d(6),o()()()()),e&2){let l=t.$implicit;c("routerLink",F(3,te,l.name)),s(3),S(l.name),s(3),S(l.value)}}function ae(e,t){e&1&&(a(0,"ion-item",14)(1,"ion-label",15),d(2,"No category found"),o()())}function le(e,t){if(e&1&&_(0,ae,3,0,"ion-item",14),e&2){let l=u();C(0,l.isLoading?-1:0)}}var b=(()=>{let t=class t{constructor(){this.isLoading=!0,this.error=null,this.dummyArray=new Array(5),this.pageSize=10,this.currentPage=1,this.items=[],this.apiService=P(X)}loadData(n){return T(this,null,function*(){this.error=null,n||(this.isLoading=!0);let i="";this.apiService.getSources().pipe(v(()=>{this.isLoading=!1}),E(r=>(this.error=r,[]))).subscribe({next:r=>{this.items.push(...r),n==null||n.target.complete(),n&&(n.target.disabled=this.currentPage===10)}})})}loadMore(n){n?this.currentPage++:this.currentPage=1,this.loadData(n)}refresh(n){this.currentPage=1,this.items=[],this.isLoading=!0,this.loadData(n)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=f({type:t,selectors:[["search-category"]],standalone:!0,features:[h],decls:10,vars:2,consts:[["slot","fixed",3,"ionRefresh"],["pullingIcon","arrow-dropdown","pullingText","Pull to refresh","refreshingSpinner","circles","refreshingText","Refreshing..."],[1,"ion-padding-top"],["detail","true","button","","routerDirection","forward",3,"routerLink"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],["lines","none",1,"ion-padding-bottom"],["slot","start"],["animated","",2,"height","40px"],["header","Error","isOpen","true",3,"message","buttons"],[1,"item-label"],[1,"item-name"],[1,"item-badge"],["color","primary"],["lines","none"],[1,"ion-text-center"]],template:function(i,r){i&1&&(a(0,"ion-refresher",0),I("ionRefresh",function(g){return r.refresh(g)}),m(1,"ion-refresher-content",1),o(),_(2,ie,3,0,"ion-list",2)(3,oe,1,3),a(4,"ion-list",2),y(5,re,7,5,"ion-item",3,Z,!1,le,1,1),o(),a(8,"ion-infinite-scroll",4),I("ionInfinite",function(g){return r.loadMore(g)}),m(9,"ion-infinite-scroll-content",5),o()),i&2&&(s(2),C(2,r.isLoading?2:r.error?3:-1),s(3),x(r.items))},dependencies:[j,Q,z,$,N,H,V,K,A,G,J,k,O],styles:[".item-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.item-label[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.item-label[_ngcontent-%COMP%]   .item-badge[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{font-size:.75rem;width:fit-content}"]});let e=t;return e})();var Me=(()=>{let t=class t{constructor(){this.searchResult=null}ngOnInit(){}ionViewDidEnter(){var n;(n=this.searchResult)==null||n.refresh(null)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=f({type:t,selectors:[["app-category-tab"]],viewQuery:function(i,r){if(i&1&&L(b,5),i&2){let p;w(p=R())&&(r.searchResult=p.first)}},standalone:!0,features:[h],decls:6,vars:2,consts:[[3,"translucent"],[3,"fullscreen"]],template:function(i,r){i&1&&(a(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),d(3," Catalog "),o()()(),a(4,"ion-content",1),m(5,"search-category"),o()),i&2&&(c("translucent",!0),s(4),c("fullscreen",!0))},dependencies:[B,W,U,q,b]});let e=t;return e})();export{Me as CategoryTabPage};
