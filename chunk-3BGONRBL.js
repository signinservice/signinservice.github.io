import{e as z}from"./chunk-P4FEQN2G.js";import{a as O}from"./chunk-AKILBPUG.js";import"./chunk-EXUDQ43K.js";import"./chunk-FAY467QK.js";import"./chunk-3O2XMPDP.js";import"./chunk-QKZDKOWR.js";import"./chunk-672LKCSF.js";import{a as k,e as q}from"./chunk-TEIVXAVQ.js";import"./chunk-YP7JNQMV.js";import"./chunk-GQZ4J7UJ.js";import{$a as C,G as h,Ga as A,N as f,O as v,W as x,Xa as w,Z as l,_ as a,ba as _,da as u,gc as M,hb as P,ja as i,ka as n,kc as T,la as S,mb as I,na as y,oa as m,pa as b,ya as o,za as d}from"./chunk-E5M5ZXR5.js";import"./chunk-4K5LH2EL.js";import"./chunk-HC6MZPB3.js";import"./chunk-HWJT3G3M.js";import"./chunk-QA4BP4KE.js";import"./chunk-4PGTP63H.js";import"./chunk-W247SYNL.js";import"./chunk-5AWJTBLE.js";import"./chunk-R55QYPU7.js";import"./chunk-EBGJQX73.js";import"./chunk-MM5QLNJM.js";import"./chunk-3573TPBU.js";import"./chunk-2EOHHFOF.js";import"./chunk-JXIEZMHN.js";import"./chunk-ALJHSCNX.js";import"./chunk-MCRJI3T3.js";import"./chunk-ONMHOBBF.js";import"./chunk-6OWUBTX6.js";import"./chunk-DFV6G3P3.js";import"./chunk-LAKQI2GN.js";import"./chunk-36DK65CZ.js";import"./chunk-7M2JNTUM.js";import"./chunk-FIB3M2O7.js";import"./chunk-4U6PRYVA.js";import"./chunk-Z4V4M3ZT.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-IMRZMLQ3.js";import"./chunk-LF5XB4YN.js";import{i as p}from"./chunk-E2I6K3L7.js";function R(c,s){if(c&1){let E=y();i(0,"ion-button",8),m("click",function(){f(E);let e=b();return v(e.requestAccess())}),o(1," Request Access "),n()}}var J=(()=>{let s=class s{constructor(r,e,t,g,U,j){this.auth=r,this.router=e,this.titleService=t,this.utilService=g,this.apiService=U,this.appService=j,this.pageTitle="",this.iconUrl="",this.userSession=null,this.isRequestAccessActioned=!1}ionViewDidEnter(){return p(this,null,function*(){this.userSession=yield this.auth.getSession(),this.pageTitle=this.titleService.getTitle(),this.iconUrl=this.utilService.getEnvironmentSpecificPath("assets/icons/icon-512x512.png")})}tryAgain(){this.router.navigate(["/logout"])}requestAccess(){return p(this,null,function*(){let r=location.origin,e=`Application request for ${r}`,t=`Please provide access for ${r} to ${this.userSession.email} `;yield this.apiService.queue("application.request",{title:e,desc:t,timestamp:new Date}),this.isRequestAccessActioned=!0,this.appService.successToast("Application Request sent")})}};s.\u0275fac=function(e){return new(e||s)(a(z),a(I),a(P),a(k),a(q),a(O))},s.\u0275cmp=h({type:s,selectors:[["app-unauthorized"]],standalone:!0,features:[A],decls:17,vars:4,consts:[[1,"login-content"],[1,"logo-container"],["alt","App Logo",1,"app-logo",3,"src"],[1,"app-title"],[1,"unauthorized-message"],[1,"login-buttons"],["expand","block","color","primary",1,"action-btn",3,"click"],["expand","block","color","secondary","class","action-btn",3,"click",4,"ngIf"],["expand","block","color","secondary",1,"action-btn",3,"click"]],template:function(e,t){e&1&&(i(0,"ion-content",0)(1,"div",1),S(2,"img",2),i(3,"h1",3),o(4),n(),i(5,"div",4)(6,"p"),o(7," Oops! You\u2019ve tried to access a page with "),i(8,"strong"),o(9),n(),o(10," that you\u2019re not authorized to view. This can happen if you aren\u2019t logged in or if your account doesn\u2019t have the required permissions. "),n(),i(11,"p"),o(12," You can try logging in again to see if that resolves the issue. If you still can\u2019t access the page, please contact the administrator or support team for assistance. "),n()()(),i(13,"div",5)(14,"ion-button",6),m("click",function(){return t.tryAgain()}),o(15," Try Again "),n(),_(16,R,2,0,"ion-button",7),n()()),e&2&&(l(2),u("src",t.iconUrl,x),l(2),d(t.pageTitle),l(5),d(t.userSession==null?null:t.userSession.email),l(7),u("ngIf",!t.isRequestAccessActioned))},dependencies:[C,w,T,M],styles:[".login-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:20px}.logo-container[_ngcontent-%COMP%]{margin-bottom:20px}.app-logo[_ngcontent-%COMP%]{width:120px;height:120px;margin:0 auto 10px}.app-title[_ngcontent-%COMP%]{font-size:26px;font-weight:700;margin-bottom:10px}.unauthorized-message[_ngcontent-%COMP%]{font-size:14px;line-height:1.6;margin:15px 0 25px}.unauthorized-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0}.login-buttons[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:10px}.action-btn[_ngcontent-%COMP%]{width:100%}@media (min-width: 768px){.action-btn[_ngcontent-%COMP%]{width:300px;margin:0 auto;display:block}}"]});let c=s;return c})();export{J as UnauthorizedPage};
